{
    "dataRoles": [
        {
            "name": "Category",
            "kind": "Grouping",
            "displayName": "Items"
        }, {
            "name": "Values",
            "kind": "Measure",
            "requiredTypes": [{ "numeric": true }, { "integer": true }],
            "displayName": "With Values"
        }, {
            "name": "Series",
            "kind": "Grouping",
            "displayName": "Segmented By"
        }
    ],
    "dataViewMappings": [{
        "conditions": [
            { "Category": { "max": 1 }, "Series": { "max": 0 }},
            { "Category": { "max": 1 }, "Series": { "max": 0 }, "Values": { "max": 1, "min": 0 }},
            { "Category": { "max": 1 }, "Series": { "min": 1, "max": 1 }, "Values": { "max": 1, "min": 1 }},
            { "Category": { "max": 1 }, "Series": { "max": 0 }, "Values": { "min": 0 }},
            { "Category": { "max": 1 }, "Series": { "max": 1 }, "Values": { "min": 0, "max": 0 }}
        ],
        "categorical": {
            "categories": {
                "for": { "in": "Category" },
                "dataReductionAlgorithm": { "window": { "count": 100 } }
            },
            "values": {
                "group": {
                    "by": "Series",
                    "select": [{ "for": { "in": "Values" }}],
                    "dataReductionAlgorithm": { "top": { "count": 60 } }
                }
            },
            "rowCount": { "preferred": { "min": 2 }, "supported": { "min": 0 } }
        }
    }],
    // sort by default
    "sorting": {
        "default": {}
    },
    // supportsHighlight: true,
    "objects": {
        "general": {
            "displayName": "General",
            "properties": {
                "selfFilterEnabled": {
                    "type": { "operations": { "searchEnabled": true } }
                },
                "filter": {
                    "type": { "filter": {} },
                    "rule": {
                        "output": {
                            "property": "selected",
                            "selector": ["Values"]
                        }
                    }
                }
            }
        }
    }
}